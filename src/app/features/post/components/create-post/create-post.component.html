<div class="container mt-40">
  <h2>Publish post</h2>
  <form [formGroup]="createPostForm" (ngSubmit)="submitForm()">
    <div class="tui-form__row">
      <tui-textarea
        formControlName="content"
        [expandable]="true"
        class="tui-space_bottom-4 field-large"
      >
        Content
      </tui-textarea>
      <tui-error
        formControlName="content"
        [error]="[] | tuiFieldError | async"
      ></tui-error>
    </div>
    <div class="tui-form__row">
      <<tui-input-files
        accept="image/*"
        textContent="hello"
        formControlName="file"
        [multiple]="true"
      >
        <div class="content">
          <ng-template let-dragged>
            <tui-marker-icon
              mode="link"
              src="tuiIconUploadCloudLarge"
            ></tui-marker-icon>
            <div>
              Drag and drop file here or
              <a tuiLink>click to upload</a>
            </div>
          </ng-template>
        </div>
      </tui-input-files>

      <tui-files class="tui-space_top-1">
        <tui-file
          *ngFor="let file of fileControl?.valueChanges | async"
          [file]="file"
          [showDelete]="fileControl?.enabled || false"
          (removed)="removeFile(file)"
        ></tui-file>

        <tui-file
          *ngFor="let file of rejectedFiles"
          state="error"
          [file]="file"
          [showDelete]="fileControl?.enabled || false"
          (removed)="clearRejected(file)"
        ></tui-file>
      </tui-files>

      <tui-error
        [error]="[] | tuiFieldError | async"
        formControlName="file"
      ></tui-error
      >>
    </div>

    <div class="tui-form__buttons">
      <button
        size="m"
        tuiButton
        type="submit"
        class="tui-form__button"
        [class.tui-skeleton_light]="false"
        [class.tui-skeleton]="false"
      >
        Publish post
      </button>
      <button
        appearance="flat"
        size="m"
        tuiButton
        type="button"
        class="tui-form__button"
        [class.tui-skeleton_light]="false"
        [class.tui-skeleton]="false"
        (click)="goBack()"
      >
        Cancel
      </button>
    </div>
  </form>
</div>
